# UI Changes for Recurring Transaction Feature

## Overview

This document describes the user interface changes made to support the recurring transaction feature.

## 1. Recurring Transaction List View

**Location**: Settings > å®šæœŸäº¤æ˜“

### Visual Elements

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å®šæœŸäº¤æ˜“                          ï¼‹â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                      â”‚
â”‚  é€šå‹¤è´¹           [è‡ªåŠ¨]             â”‚
â”‚  æ¯å‘¨ï¼ˆå‘¨ä¸€ã€å‘¨ä¸‰ã€å‘¨äº”ï¼‰  äº¤é€š      â”‚
â”‚                          Â¥20.00     â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚                                      â”‚
â”‚  æˆ¿ç§Ÿ                                â”‚
â”‚  æ¯æœˆï¼ˆ1å·ï¼‰       ä½æˆ¿               â”‚
â”‚                        Â¥3000.00     â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚                                      â”‚
â”‚  è½¦é™©             [å·²æš‚åœ]           â”‚
â”‚  æ¯å¹´ï¼ˆ3æœˆ15æ—¥ï¼‰   æ±½è½¦               â”‚
â”‚                        Â¥5000.00     â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚                                      â”‚
â”‚  + æ·»åŠ å®šæœŸäº¤æ˜“                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Key Features

- **Badge Display**: Shows "è‡ªåŠ¨" for auto-add transactions, "å·²æš‚åœ" for disabled ones
- **Recurrence Description**: Clear text showing the pattern (e.g., "æ¯å‘¨ï¼ˆå‘¨ä¸€ã€å‘¨ä¸‰ã€å‘¨äº”ï¼‰")
- **Category Display**: Shows the category name
- **Amount Display**: Colored based on type (red for expense, green for income)

## 2. Add Recurring Transaction Form

**Location**: Settings > å®šæœŸäº¤æ˜“ > ï¼‹

### Form Sections

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  < å–æ¶ˆ    æ·»åŠ å®šæœŸäº¤æ˜“        æ·»åŠ  >â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                      â”‚
â”‚  åŸºæœ¬ä¿¡æ¯                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ åç§°ï¼ˆå¦‚ï¼šé€šå‹¤äº¤é€šè´¹ï¼‰         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  Â¥ [é‡‘é¢]                           â”‚
â”‚  ç±»å‹: [æ”¯å‡º â–¼]                     â”‚
â”‚                                      â”‚
â”‚  åˆ†ç±»                                â”‚
â”‚  åˆ†ç±»: [äº¤é€š â–¼]                     â”‚
â”‚                                      â”‚
â”‚  ä»˜æ¬¾äºº                              â”‚
â”‚  ä»˜æ¬¾äºº: [ä¸é€‰æ‹© â–¼]                 â”‚
â”‚                                      â”‚
â”‚  é‡å¤å‘¨æœŸ                            â”‚
â”‚  é¢‘ç‡: [æ¯å¤© â–¼]                     â”‚
â”‚  é—´éš”: 1 å¤©  [-][+]                 â”‚
â”‚                                      â”‚
â”‚  [æ¯å‘¨é€‰é¡¹]                          â”‚
â”‚  æ¯å‘¨å‡                               â”‚
â”‚  â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”    â”‚
â”‚  â”‚(æ—¥)â”‚(ä¸€)â”‚(äºŒ)â”‚(ä¸‰)â”‚(å››)â”‚(äº”)â”‚(å…­)â”‚    â”‚
â”‚  â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜    â”‚
â”‚                                      â”‚
â”‚  ç»“æŸæ¡ä»¶                            â”‚
â”‚  â–¡ è®¾ç½®ç»“æŸæ—¥æœŸ                      â”‚
â”‚  â–¡ é™åˆ¶é‡å¤æ¬¡æ•°                      â”‚
â”‚                                      â”‚
â”‚  æ·»åŠ æ–¹å¼                            â”‚
â”‚  è‡ªåŠ¨æ·»åŠ  [Toggle]                   â”‚
â”‚  ğŸ’¡ å¼€å¯åï¼Œå°†åœ¨æ¯ä¸ªå‘¨æœŸè‡ªåŠ¨åˆ›å»ºäº¤æ˜“  â”‚
â”‚     è®°å½•                             â”‚
â”‚                                      â”‚
â”‚  å…¶ä»–                                â”‚
â”‚  å•†æˆ·ï¼ˆå¯é€‰ï¼‰[            ]          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### New UI Components

#### 1. Interval Stepper
```
é—´éš”: 1 å¤©  [-][+]
é—´éš”: 2 å‘¨  [-][+]
é—´éš”: 3 æœˆ  [-][+]
é—´éš”: 1 å¹´  [-][+]
```
- Allows setting custom intervals (1-99)
- Unit changes based on frequency

#### 2. Weekday Selector (for Weekly)
```
æ¯å‘¨å‡ 
â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
â”‚(æ—¥)â”‚(ä¸€)â”‚(äºŒ)â”‚(ä¸‰)â”‚(å››)â”‚(äº”)â”‚(å…­)â”‚
â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜

Selected:
â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”
â”‚ æ—¥ â”‚[ä¸€]â”‚ äºŒ â”‚[ä¸‰]â”‚ å›› â”‚[äº”]â”‚ å…­ â”‚
â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜
```
- Circular buttons
- Blue background for selected days
- White text for selected, primary text for unselected
- 40x40 pt buttons

#### 3. Month/Day Pickers (for Yearly)
```
æœˆä»½: [3æœˆ â–¼]
æ—¥æœŸ: [15å· â–¼]
```

#### 4. End Conditions Section
```
ç»“æŸæ¡ä»¶
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [âœ“] è®¾ç½®ç»“æŸæ—¥æœŸ                â”‚
â”‚ ç»“æŸæ—¥æœŸ: [2024-12-31 â–¼]       â”‚
â”‚                                 â”‚
â”‚ [ ] é™åˆ¶é‡å¤æ¬¡æ•°                â”‚
â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

When enabled:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [âœ“] é™åˆ¶é‡å¤æ¬¡æ•°                â”‚
â”‚ é‡å¤ 10 æ¬¡ [-][+]              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 5. Auto-add Toggle
```
æ·»åŠ æ–¹å¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è‡ªåŠ¨æ·»åŠ         [ON â¬¤â”€â”€â”€â”€]     â”‚
â”‚ ğŸ’¡ å¼€å¯åï¼Œå°†åœ¨æ¯ä¸ªå‘¨æœŸè‡ªåŠ¨åˆ›å»º â”‚
â”‚    äº¤æ˜“è®°å½•                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

When OFF:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è‡ªåŠ¨æ·»åŠ         [â”€â”€â”€â¬¤ OFF]     â”‚
â”‚ ğŸ’¡ å…³é—­åï¼Œå°†åœ¨æ¯ä¸ªå‘¨æœŸæé†’æ‚¨   â”‚
â”‚    æ‰‹åŠ¨ç¡®è®¤                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 3. Edit Recurring Transaction Form

**Similar to Add form, with additional information:**

```
å…¶ä»–
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å•†æˆ·ï¼ˆå¯é€‰ï¼‰[            ]      â”‚
â”‚                                 â”‚
â”‚ ä¸Šæ¬¡è®°å½•        2024-01-28     â”‚
â”‚ å·²æ‰§è¡Œæ¬¡æ•°               3     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 4. Manual Confirmation Dialog

**Shown when manual confirmation transactions are due:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               ğŸ”„                      â”‚
â”‚          ä»Šæ—¥å®šæœŸäº¤æ˜“                 â”‚
â”‚   ä»¥ä¸‹æ˜¯ä»Šå¤©éœ€è¦è®°å½•çš„å®šæœŸäº¤æ˜“        â”‚
â”‚                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ âœ“ é€šå‹¤è´¹                        â”‚ â”‚
â”‚  â”‚   æ¯å‘¨ï¼ˆå‘¨ä¸€ã€å‘¨ä¸‰ã€å‘¨äº”ï¼‰  äº¤é€š â”‚ â”‚
â”‚  â”‚                       Â¥20.00   â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ â—‹ åˆé¤è´¹                        â”‚ â”‚
â”‚  â”‚   æ¯å¤©  é¤é¥®                    â”‚ â”‚
â”‚  â”‚                       Â¥30.00   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚      ç¡®è®¤è®°å½• (1)               â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚      ç¨åå†è¯´                   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                      â”‚
â”‚                            [å…¨é€‰] > â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Features

- **Checkmark Selection**: Blue checkmark for selected, gray circle for unselected
- **Recurrence Description**: Shows the pattern
- **Category Display**: Category name in secondary text
- **Amount Display**: Colored by type
- **Batch Operations**: "å…¨é€‰" button in toolbar
- **Counter**: Shows selected count in confirm button
- **Dismiss Option**: "ç¨åå†è¯´" to skip confirmation

## 5. Color Scheme

### Badge Colors
- **Auto Badge (è‡ªåŠ¨)**: Green background (opacity 0.2), green text
- **Disabled Badge (å·²æš‚åœ)**: Gray background (opacity 0.2), gray text
- **Frequency Badge**: Blue background (opacity 0.1), blue text

### Amount Colors
- **Expense (æ”¯å‡º)**: Red
- **Income (æ”¶å…¥)**: Green

### Button States
- **Selected Weekday**: Blue background, white text
- **Unselected Weekday**: Gray background (opacity 0.2), primary text
- **Confirm Button**: Blue (prominent)
- **Cancel/Skip Button**: Bordered (secondary)

## 6. Typography

- **Transaction Name**: Medium weight, primary text
- **Recurrence Description**: Caption size, blue color
- **Category**: Caption size, secondary text  
- **Amount**: Headline size, colored by type
- **Form Labels**: System default
- **Helper Text**: Caption size, secondary text

## 7. Accessibility

- All interactive elements have minimum 44x44 pt tap targets
- Color is not the only indicator (badges use both color and text)
- Clear visual hierarchy
- Descriptive labels for all form fields
- Helper text explains each option

## 8. Responsive Layout

- Forms scroll vertically
- Weekday selector wraps on smaller screens
- All pickers use standard iOS components
- Safe area insets respected
- Sheet presentation with .large detent for confirmation dialog

## 9. Animations

- Smooth transitions when showing/hiding conditional fields
- Standard iOS animations for toggles and steppers
- Fade-in for confirmation dialog
- Selection feedback for weekday buttons

## 10. Empty States

When no recurring transactions exist:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                      â”‚
â”‚              ğŸ”„                      â”‚
â”‚          æš‚æ— å®šæœŸäº¤æ˜“                 â”‚
â”‚                                      â”‚
â”‚  æ·»åŠ å®šæœŸäº¤æ˜“åï¼Œæ¯æ¬¡æ‰“å¼€ App ä¼šè‡ªåŠ¨  â”‚
â”‚  æé†’ä½ è®°å½•                          â”‚
â”‚                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  + æ·»åŠ å®šæœŸäº¤æ˜“                â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

All UI components follow iOS Human Interface Guidelines and maintain consistency with the rest of the application.
